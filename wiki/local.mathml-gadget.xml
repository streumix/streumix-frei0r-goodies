<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs title="MathML Gadget">
        <Require feature="dynamic-height"/>
    </ModulePrefs>
    <UserPref name="content" datatype="string" display_name="Content" required="true"/>
    <UserPref name="foreground" datatype="string" display_name="Formula Color" required="false" default_value=""/>
    <UserPref name="fontsize" datatype="string" display_name="Formula Font Size" required="false" default_value="1em"/>
    <Content type="html">
        <![CDATA[
<span id="content"></span>
<script src="http://mathml-gadget.googlecode.com/svn/trunk/ASCIIMathML.js" type="text/javascript"></script>
<script type="text/javascript">

//http://www.chapman.edu/~jipsen/mathml/ASCIIMathML.js
//
mathcolor = "__UP_foreground__";
mathfontsize = "__UP_fontsize__";


formula = "__UP_content__";
formula = formula.replace(/&lt;/g, "<");
formula = formula.replace(/&gt;/g, ">");
formula = formula.replace(/&amp;/g, "&");
formula = formula.replace(/&apos;/g, "'");
formula = formula.replace(/&quot;/g, "\"");

document.getElementById('content').appendChild(AMparseMath(formula));
gadgets.window.adjustHeight();
</script>
        ]]>
    </Content>
</Module>

